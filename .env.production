# =============================================================================
# AURORA Tax Classifier - Production Environment Configuration
# =============================================================================
# CRITICAL: This file contains placeholders for production secrets
# NEVER commit actual production values to version control
# Use a secure secret management system (AWS Secrets Manager, Azure Key Vault, etc.)
# =============================================================================

# -----------------------------------------------------------------------------
# APPLICATION SETTINGS
# -----------------------------------------------------------------------------
NODE_ENV=production
APP_NAME=AURORA Tax Classifier
APP_VERSION=2.0.1

# -----------------------------------------------------------------------------
# DATABASE CONFIGURATION
# -----------------------------------------------------------------------------
# PRODUCTION DATABASE - Use PostgreSQL (REQUIRED)
# Replace with your actual production database URL
DATABASE_URL=postgresql://REPLACE_WITH_USERNAME:REPLACE_WITH_PASSWORD@REPLACE_WITH_HOST:5432/REPLACE_WITH_DATABASE

# PostgreSQL settings (for reference)
POSTGRES_USER=REPLACE_WITH_USERNAME
POSTGRES_PASSWORD=REPLACE_WITH_STRONG_PASSWORD
POSTGRES_DB=aurora_production
POSTGRES_PORT=5432

# IMPORTANT:
# - Use a managed database service (AWS RDS, Azure Database, etc.)
# - Enable SSL/TLS connections
# - Use strong passwords (minimum 20 characters, alphanumeric + special chars)
# - Enable automatic backups
# - Set up read replicas for high availability

# -----------------------------------------------------------------------------
# API AUTHENTICATION
# -----------------------------------------------------------------------------
# CRITICAL: Generate a strong API key
# Generate with: openssl rand -hex 32
API_KEY=REPLACE_WITH_SECURE_API_KEY_64_CHARS_MIN

# Clerk Authentication (if using)
# Get from: https://dashboard.clerk.com/
CLERK_PUBLISHABLE_KEY=REPLACE_WITH_CLERK_PUBLISHABLE_KEY
CLERK_SECRET_KEY=REPLACE_WITH_CLERK_SECRET_KEY
CLERK_WEBHOOK_SECRET=REPLACE_WITH_CLERK_WEBHOOK_SECRET

# -----------------------------------------------------------------------------
# EXTERNAL API KEYS
# -----------------------------------------------------------------------------
# Anthropic API (if using AI features)
# Get from: https://console.anthropic.com/
ANTHROPIC_API_KEY=REPLACE_WITH_ANTHROPIC_API_KEY

# Resend Email Service (if using)
# Get from: https://resend.com/
RESEND_API_KEY=REPLACE_WITH_RESEND_API_KEY
RESEND_FROM_EMAIL=noreply@yourdomain.com

# -----------------------------------------------------------------------------
# APPLICATION URLS
# -----------------------------------------------------------------------------
# REPLACE WITH YOUR ACTUAL PRODUCTION DOMAINS
BACKEND_URL=https://api.yourdomain.com
VITE_API_BASE_URL=https://api.yourdomain.com

FRONTEND_URL=https://yourdomain.com
VITE_APP_URL=https://yourdomain.com

# CORS Origins - CRITICAL: Only allow your production domains
CORS_ORIGINS=https://yourdomain.com,https://www.yourdomain.com

# -----------------------------------------------------------------------------
# DOCKER PORT CONFIGURATION
# -----------------------------------------------------------------------------
# Internal container ports (typically don't change these)
BACKEND_PORT=8000
FRONTEND_PORT=80

# -----------------------------------------------------------------------------
# FILE STORAGE CONFIGURATION
# -----------------------------------------------------------------------------
# Production storage path (use persistent volume or cloud storage)
STORAGE_PATH=/var/lib/aurora/storage

# Conservative file size for production
MAX_FILE_SIZE_MB=10

# Allowed file extensions (strict for security)
ALLOWED_FILE_EXTENSIONS=.csv,.xlsx,.xls

# RECOMMENDED: Use cloud storage (S3, Azure Blob, Google Cloud Storage)
# AWS_S3_BUCKET=your-bucket-name
# AWS_ACCESS_KEY_ID=REPLACE_WITH_AWS_ACCESS_KEY
# AWS_SECRET_ACCESS_KEY=REPLACE_WITH_AWS_SECRET_KEY
# AWS_REGION=us-east-1

# -----------------------------------------------------------------------------
# MODEL CONFIGURATION
# -----------------------------------------------------------------------------
MODEL_VERSION=baseline-v1.0
PREPROCESSING_VERSION=1.0
SCORING_VERSION=1.0

FISCAL_MODEL_PATH=models/koreksi_fiskal_lr.joblib
TAX_OBJECT_MODEL_PATH=models/objek_pph_lr.joblib

# -----------------------------------------------------------------------------
# LOGGING CONFIGURATION
# -----------------------------------------------------------------------------
# Production logging settings
LOG_LEVEL=WARNING

# JSON format for log aggregation
LOG_FORMAT=json

# Log only errors in production
LOG_REQUESTS=false

# Log file path (optional - use log aggregation service instead)
# LOG_FILE_PATH=/var/log/aurora/app.log

# RECOMMENDED: Use log aggregation service
# - AWS CloudWatch Logs
# - Azure Monitor
# - Google Cloud Logging
# - Datadog, New Relic, etc.

# -----------------------------------------------------------------------------
# SECURITY SETTINGS
# -----------------------------------------------------------------------------
# FORCE HTTPS in production
FORCE_HTTPS=true

# CRITICAL: Generate strong secrets
# Generate with: openssl rand -hex 32
SESSION_SECRET=REPLACE_WITH_STRONG_SESSION_SECRET_64_CHARS
CSRF_SECRET=REPLACE_WITH_STRONG_CSRF_SECRET_64_CHARS

# Enable rate limiting
ENABLE_RATE_LIMIT=true

# Conservative rate limiting for production
RATE_LIMIT_PER_MINUTE=60

# Additional Security Settings
# ENABLE_HELMET=true
# ENABLE_CORS_CREDENTIALS=true
# TRUSTED_PROXIES=cloudflare,aws-elb

# -----------------------------------------------------------------------------
# FRONTEND ENVIRONMENT VARIABLES (Vite)
# -----------------------------------------------------------------------------
VITE_APP_NAME=AURORA Tax Classifier

# Disable debug mode in production
VITE_DEBUG_MODE=false

# Production timeout
VITE_API_TIMEOUT=30000

# Analytics (if using)
VITE_ENABLE_ANALYTICS=true
VITE_GA_TRACKING_ID=REPLACE_WITH_GA_ID

# -----------------------------------------------------------------------------
# EMAIL CONFIGURATION
# -----------------------------------------------------------------------------
EMAIL_TEMPLATE_DIR=/app/templates/email
ENABLE_EMAIL_NOTIFICATIONS=true
ADMIN_EMAIL=admin@yourdomain.com

# -----------------------------------------------------------------------------
# MONITORING & OBSERVABILITY
# -----------------------------------------------------------------------------
# Sentry for error tracking (HIGHLY RECOMMENDED)
# Get from: https://sentry.io/
SENTRY_DSN=REPLACE_WITH_SENTRY_DSN
SENTRY_ENVIRONMENT=production

# Performance monitoring
SENTRY_TRACES_SAMPLE_RATE=0.1

# Additional monitoring
# NEW_RELIC_LICENSE_KEY=REPLACE_WITH_NEW_RELIC_KEY
# DATADOG_API_KEY=REPLACE_WITH_DATADOG_KEY

# -----------------------------------------------------------------------------
# FEATURE FLAGS
# -----------------------------------------------------------------------------
# Production feature flags
ENABLE_DIRECT_ANALYSIS=true
ENABLE_RISK_REPORTS=true
ENABLE_EXPLAINABILITY=true
ENABLE_JOB_HISTORY=true
MAX_HISTORY_JOBS=1000

# -----------------------------------------------------------------------------
# BACKUP CONFIGURATION
# -----------------------------------------------------------------------------
# Enable automatic backups in production
ENABLE_AUTO_BACKUP=true
BACKUP_DIR=/var/backups/aurora
BACKUP_RETENTION_DAYS=90

# RECOMMENDED: Use cloud backup service
# - AWS Backup
# - Azure Backup
# - Google Cloud Backup

# -----------------------------------------------------------------------------
# DEVELOPMENT SETTINGS (disabled in production)
# -----------------------------------------------------------------------------
HOT_RELOAD=false
DEBUG_TOOLBAR=false
SEED_DATABASE=false

# -----------------------------------------------------------------------------
# PRODUCTION DEPLOYMENT CHECKLIST
# -----------------------------------------------------------------------------
# Before deploying to production, ensure:
#
# [ ] All REPLACE_WITH_* placeholders are updated with actual values
# [ ] API_KEY is strong and unique (64+ characters)
# [ ] DATABASE_URL uses PostgreSQL with SSL/TLS
# [ ] CORS_ORIGINS only includes production domains
# [ ] SESSION_SECRET and CSRF_SECRET are strong and unique
# [ ] FORCE_HTTPS is set to true
# [ ] LOG_LEVEL is set to WARNING or ERROR
# [ ] ENABLE_RATE_LIMIT is true
# [ ] Sentry or error tracking is configured
# [ ] Database backups are enabled and tested
# [ ] SSL/TLS certificates are valid and auto-renewing
# [ ] Environment variables are stored securely (not in code)
# [ ] Secrets are rotated regularly (90 days)
# [ ] Access logs are enabled and monitored
# [ ] Health checks are configured (e.g., /api/healthz)
# [ ] Load balancer is configured (if applicable)
# [ ] CDN is configured for frontend (if applicable)
# [ ] DDoS protection is enabled
# [ ] WAF (Web Application Firewall) is configured
# [ ] Security headers are enabled (CSP, HSTS, etc.)
# [ ] Dependency scanning is automated
# [ ] Penetration testing has been performed
# [ ] Disaster recovery plan is documented and tested
#
# -----------------------------------------------------------------------------
# SECURITY NOTES
# -----------------------------------------------------------------------------
# 1. Store production secrets in a secure secret management service
# 2. Never commit this file with actual values to version control
# 3. Use environment-specific IAM roles/service accounts
# 4. Rotate secrets regularly (every 90 days minimum)
# 5. Enable audit logging for all secret access
# 6. Use principle of least privilege for all credentials
# 7. Enable multi-factor authentication for all admin access
# 8. Regularly review and update security settings
# 9. Monitor for suspicious activity and unauthorized access
# 10. Have an incident response plan ready
# =============================================================================
